(this["webpackJsonpmusic-web-react"]=this["webpackJsonpmusic-web-react"]||[]).push([[20],{365:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s=n(56),l=n(0),d=n.n(l),m=n(43),p=n(23),u=n(24),b=u.a.div(r||(r=Object(p.a)(["\n    .content {\n        border-left: 1px #ddd solid;\n        border-right: 1px #ddd solid;\n        display: flex;\n        .left {\n            width: 180px;\n            border-right: 1px #ddd solid;\n        }\n        .right {\n            width: 100%;\n        }\n\n        .item-wrapper-square {\n            display: grid;\n            grid-template-columns: repeat(5, 130px);\n            grid-column-gap: 20px;\n            grid-row-gap: 30px;\n            margin-top: 1rem;\n            border-bottom: 1px dotted #999;\n            padding-bottom: 2rem;\n            cursor: pointer;\n        }\n    }\n"]))),j=u.a.div(a||(a=Object(p.a)(["\n    padding: 0 10px 40px;\n    margin-top: 51px;\n\n    .area {\n        border-bottom: 1px #ddd solid;\n        margin-bottom: 1rem;\n        h3 {\n            margin-bottom: 0.5rem; \n        }\n       .sub-warpper {\n        li {\n            margin-bottom: 0.5rem; \n            list-style: circle;\n            margin-left: 1rem;\n            cursor: pointer;\n            &.active {\n                color: var(--primary-color);\n            }\n        }\n        li:hover {\n            text-decoration: underline;\n        }\n       } \n    }\n"]))),O=u.a.div(i||(i=Object(p.a)(["\n    padding: 40px;\n    .name {\n        padding-bottom: 0.3rem;\n    }\n    .titles {\n        display: grid;\n        grid-template-columns: 2fr repeat(26,1fr) 2fr;\n        width: 100%;\n        grid-column-gap: 10px;\n        padding: 1rem 0;\n        li {\n            cursor: pointer;\n            text-align: center;\n            &.active {\n                background: var(--primary-color);;\n                color: white;\n            }\n            &:hover {\n                transform: scale(1.5);\n                transition: all 0.5s;\n                text-decoration: underline;\n            }\n        }\n    }\n    .item-wrapper-row {\n        display: grid;\n        grid-template-columns: repeat(5, 130px);\n        grid-column-gap: 20px;\n        margin-top: 0.5rem;\n        padding-bottom: 2rem;\n        p {\n            font-size: 0.8rem;\n            cursor: pointer;\n        }\n        p:hover {\n            text-decoration: underline;\n        }\n        .item {\n            margin-bottom: 0.3rem;\n        }\n    }\n"]))),h=u.a.div(c||(c=Object(p.a)(["\n    img {\n        border: 1px solid #ddd;\n        width: 130px;\n        height: 130px;\n        cursor: pointer;\n    }\n    .row {\n        margin-top: 0.2rem;\n        font-size: 0.8rem;   \n        p:hover {\n            text-decoration: underline;\n        }\n    }\n"]))),g=u.a.div(o||(o=Object(p.a)(["\n    padding: 40px;\n    padding-bottom: 4rem;\n    position: relative;\n    .name {\n        padding-bottom: 0.3rem;\n    }\n\n    .spin-wrapper {\n        position: absolute;\n        bottom: 0;\n        left: 45%;\n    }\n"]))),f=n(21),x=n(135),v=n(55),y=n(247),w=n(100),k=n(83),N=n(17),J=n(1),C=(t.default=Object(l.memo)((function(){console.log("init JJArtist");var e=Object(m.c)(),t=Object(l.useRef)(),n=Object(l.useState)({name:"\u534e\u8bed\u7537\u6b4c\u624b",type:1,area:7}),r=Object(s.a)(n,2),a=r[0],i=r[1],c=Object(l.useCallback)((function(n){e(Object(x.c)({})),i(n),t&&t.current&&t.current.setHotTitle(),e(Object(x.a)(n.type,n.area,-1,100))}),[e,-1]),o=Object(m.d)((function(e){return{artistData:e.getIn(["artistReducer","artistData"])}}),m.b).artistData.artists,d=void 0===o?[]:o;Object(l.useEffect)((function(){var t=1,n=7;e(Object(x.a)(t,n,-1,100))}),[-1,e]);var p=Object(l.useCallback)((function(t){e(Object(x.c)({})),e(Object(x.a)(a.type,a.area,t.initial,100))}),[e,a]);return Object(J.jsx)(b,{children:Object(J.jsxs)("div",{className:"content wrap-v2 ",children:[Object(J.jsx)("div",{className:"left",children:Object(J.jsx)(H,{clickedType:c})}),Object(J.jsx)("div",{className:"right",children:-3===a.type?Object(J.jsx)(T,{currentType:a}):Object(J.jsx)(S,{ref:t,onClickTitle:p,currentType:a,artists:d})})]})})})),Object(l.memo)((function(e){var t=e.artist;console.log("init JJArtistRightItem");var n=Object(N.useHistory)(),r=Object(l.useCallback)((function(e){console.log("clickedItem",e.id),e.id&&n.push({pathname:"/discover/artist/detail/hot",search:"?id="+e.id})}),[n]);return Object(J.jsxs)(h,{onClick:function(e){return r(t)},children:[Object(J.jsx)("img",{src:Object(v.e)(t.picUrl,130),alt:""}),Object(J.jsx)("div",{className:"row",children:Object(J.jsx)("p",{children:t.name})})]})}))),T=Object(l.memo)((function(e){var t=e.currentType;console.log("init JJArtistRightHot");var n=Object(l.useState)(!1),r=Object(s.a)(n,2),a=r[0],i=r[1],c=Object(l.useRef)(),o=document.documentElement.clientHeight,d=1,p=!1,u=Object(m.c)(),b=Object(m.d)((function(e){return{hotSingers:e.getIn(["recommend","hotSingers"])}}),m.b).hotSingers,j=void 0===b?[]:b;function O(e){var t=c&&c.current&&c.current.clientHeight||0;if(!p){if(t-e-10<o){if(i(!0),p=!0,(d+=1)>=6)return void i(!1);Object(k.a)(20*d,0).then((function(e){p=!1,i(!1),u(Object(w.b)(e))})).catch((function(e){p=!1,i(!1)}))}}}return Object(l.useEffect)((function(){return window.listenScrolls=[function(e){O(e.target&&e.target.scrollTop||0)}],u(Object(w.c)(20*d,0)),function(){window.listenScrolls=null}}),[d,u,O]),Object(J.jsxs)(g,{ref:c,children:[Object(J.jsx)("div",{className:"bottomLine name",children:Object(J.jsx)("h2",{children:t.name})}),Object(J.jsx)("div",{className:"item-wrapper-square",children:j.map((function(e){return Object(J.jsx)(C,{artist:e},e.id)}))}),a&&Object(J.jsx)("div",{className:"spin-wrapper",children:Object(J.jsx)(y.a,{tip:"Loading..."})})]})})),S=d.a.forwardRef((function(e,t){var n=e.onClickTitle,r=e.currentType,a=e.artists,i=Object(N.useHistory)();console.log("init JJArtistRight"),Object(l.useImperativeHandle)(t,(function(){return{setHotTitle:function(){m({title:"\u70ed\u95e8",initial:-1})}}}),[]);var c=Object(l.useState)({title:"\u70ed\u95e8",initial:-1}),o=Object(s.a)(c,2),d=o[0],m=o[1],p=[];p.push({title:"\u70ed\u95e8",initial:-1});for(var u=0,b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];u<b.length;u++){var j=b[u],h={title:j,initial:j.toLowerCase()};p.push(h)}p.push({title:"\u5176\u4ed6",initial:0});var g=Object(l.useCallback)((function(e){console.log("JJ ~ file: index.js ~ line 221 ~ clickedItem ~ artist",e),e.id&&i.push({pathname:"/discover/artist/detail/hot",search:"?id="+e.id})}),[i]);return Object(J.jsxs)(O,{children:[Object(J.jsx)("div",{className:"bottomLine name",children:Object(J.jsx)("h2",{children:r.name})}),Object(J.jsx)("ul",{className:"titles",children:p.map((function(e){return Object(J.jsx)("li",{className:d.initial===e.initial?"active":"",onClick:function(t){return n(r=e),void m(r);var r},children:e.title},e.initial)}))}),Object(J.jsx)("div",{className:"item-wrapper-square",children:a.slice(0,10).map((function(e){return Object(J.jsx)(C,{artist:e},e.id)}))}),Object(J.jsx)("div",{className:"item-wrapper-row",children:a.slice(10,a.length).map((function(e){return Object(J.jsx)("div",{className:"item",onClick:function(t){return g(e)},children:Object(J.jsx)("p",{children:e.name})},e.id)}))})]})})),H=Object(l.memo)((function(e){var t=e.clickedType;console.log("init JJArtistLeft");var n=Object(l.useState)({name:"\u534e\u8bed\u7537\u6b4c\u624b",type:1,area:7}),r=Object(s.a)(n,2),a=r[0],i=r[1];function c(e,t){if(!e||!t)return!1;var n=Object(f.Map)(e),r=Object(f.Map)(t);return n.equals(r)}return Object(J.jsx)(j,{children:[{name:"\u63a8\u8350",area:-2,sub:[{name:"\u63a8\u8350\u6b4c\u624b",type:-2,area:-2},{name:"\u5165\u9a7b\u6b4c\u624b",type:-3,area:-2}]},{name:"\u534e\u8bed",area:7,sub:[{name:"\u534e\u8bed\u7537\u6b4c\u624b",type:1,area:7},{name:"\u534e\u8bed\u5973\u6b4c\u624b",type:2,area:7},{name:"\u534e\u8bed\u7ec4\u5408/\u4e50\u961f",type:3,area:7}]},{name:"\u6b27\u7f8e",area:96,sub:[{name:"\u6b27\u7f8e\u7537\u6b4c\u624b",type:1,area:96},{name:"\u6b27\u7f8e\u5973\u6b4c\u624b",type:2,area:96},{name:"\u6b27\u7f8e\u7ec4\u5408/\u4e50\u961f",type:3,area:96}]},{name:"\u65e5\u672c",area:8,sub:[{name:"\u65e5\u672c\u7537\u6b4c\u624b",type:1,area:8},{name:"\u65e5\u672c\u5973\u6b4c\u624b",type:2,area:8},{name:"\u65e5\u672c\u7ec4\u5408/\u4e50\u961f",type:3,area:8}]},{name:"\u97e9\u56fd",area:16,sub:[{name:"\u97e9\u56fd\u7537\u6b4c\u624b",type:1,area:16},{name:"\u97e9\u56fd\u5973\u6b4c\u624b",type:2,area:16},{name:"\u97e9\u56fd\u7ec4\u5408/\u4e50\u961f",type:3,area:16}]},{name:"\u5176\u4ed6",area:0,sub:[{name:"\u5176\u4ed6\u7537\u6b4c\u624b",type:1,area:0},{name:"\u5176\u4ed6\u5973\u6b4c\u624b",type:2,area:0},{name:"\u5176\u4ed6\u7ec4\u5408/\u4e50\u961f",type:3,area:0}]}].map((function(e){return Object(J.jsxs)("div",{className:"area col",children:[Object(J.jsx)("h3",{children:e.name}),Object(J.jsx)("ul",{className:"sub-warpper col",children:e.sub.map((function(e){return Object(J.jsx)("li",{onClick:function(n){return i(r=e),void(t&&t(r));var r},className:c(a,e)?"active":"",children:e.name},e.name)}))})]},e.area)}))})}))}}]);