(this["webpackJsonpmusic-web-react"]=this["webpackJsonpmusic-web-react"]||[]).push([[22],{356:function(e,n,t){"use strict";t.r(n);var r=t(56),i=t(0),c=t(55),a=t(10);function o(e){if(!e)return"";var n=Object(a.a)({url:"/download/song",method:"get",params:{id:e}});return n&&n.defaults&&n.defaults.timeout&&(n.defaults.timeout=12e4),n}var s,l,d,b,p=t(23),j=t(24),m=j.a.div(s||(s=Object(p.a)(["\n    .content {\n        width: 980px;\n        min-height: 700px;\n        background-color: #fff;\n        border: 1px solid #d3d3d3;\n        border-width: 0 1px;\n    }\n"]))),u=j.a.div(l||(l=Object(p.a)(["\n    width: 710px;\n    padding: 47px 30px 40px 39px;\n\n    .album-img-big {\n        margin-right: 2rem;\n        width: 200px;\n        height: 200px;\n    }\n"]))),h=j.a.div(d||(d=Object(p.a)(["\n    padding: 20px 40px 40px 30px;\n\n    .title {\n        width: 100%;\n        margin-bottom: 1rem;\n    }\n    .favirite-peoples {\n        display: grid;\n        grid-template-columns: repeat(4, 1fr);\n        grid-column-gap: 13px;\n        grid-row-gap: 13px;\n        img {\n            width: 40px;\n            height: 40px;\n            cursor: pointer;\n        }\n    }\n"]))),g=j.a.div(b||(b=Object(p.a)(["\n    flex-grow: 1;\n    .user-wrapper {\n        .singer {\n            margin-top: 0.3rem;\n            span {\n                /* margin-right: 0.5rem; */\n            }\n            .name {\n                margin-left: 0.3rem;\n                color: blue;\n            }\n        }\n        .al {\n            margin: 0.3rem 0;\n        }\n    }\n    .btns {\n        button {\n            margin-right: 0.5rem;\n        }\n        margin: 1rem 0 2rem;\n    }\n    .desc-wrapper {\n        p {\n            white-space: pre-wrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: ",";\n            span {\n                display: block;\n            }\n        }\n        .btn-warrper {\n            text-align: end;\n            margin-top: 0.8rem;\n            .btn {\n                text-decoration: underline;\n                cursor: pointer;\n            }\n        }\n    }\n"])),(function(e){return e.isExpand?"none":30})),x=t(43),O=t(17),f=t(159),w=t(36),v=t(1),y=(n.default=Object(i.memo)((function(){var e=Object(x.c)(),n=Object(O.useHistory)().location,t=(void 0===n?{}:n).search,r=void 0===t?"":t,a=Object(c.c)(r),o=Object(x.d)((function(e){return{currentSong:e.getIn(["player","currentSong"]),lyricList:e.getIn(["player","lyricList"])}}),x.b),s=o.currentSong,l=o.lyricList,d=void 0===l?[]:l;if(Object(i.useEffect)((function(){e(Object(w.e)(a))}),[e,a]),!a)return null;if(!s)return null;var b=s.al;return Object(v.jsx)(m,{children:Object(v.jsxs)("div",{className:"content wrap-v2 borderLeft borderRight row",children:[Object(v.jsx)(u,{className:"borderRight col",children:Object(v.jsxs)("div",{className:"row",children:[b&&b.picUrl&&Object(v.jsx)("img",{className:"album-img-big",src:Object(c.e)(b.picUrl,200),alt:""}),Object(v.jsx)(y,{currentSong:s,lyricList:d})]})}),Object(v.jsxs)(h,{children:[Object(v.jsx)("h3",{className:"title borderBottom",children:"\u5305\u542b\u8fd9\u9996\u6b4c\u7684\u6b4c\u5355"}),Object(v.jsxs)("h2",{children:["\u6ce8\u610f: \u64ad\u653e\u4e0d\u4e86\u7684\u6b4c\u66f2\u53ef\u80fd\u9700\u8981\u4f1a\u5458, \u672c\u7f51\u7ad9\u53ea\u4e3a\u672c\u4eba\u63d0\u4f9b\u5b66\u4e60, \u4e0d\u4f5c\u5b83\u7528, \u5982\u8981\u542c\u97f3\u4e50\u8bf7\u79fb\u6b65\u6b63\u89c4\u7684\u7f51\u6613\u4e91\u5b98\u7f51: ",Object(v.jsx)("a",{href:"https://music.163.com/#",target:"_blank",rel:"noreferrer",children:"https://music.163.com/"})]})]})]})})})),Object(i.memo)((function(e){var n=e.currentSong,t=e.lyricList,c=void 0===t?[]:t,a=Object(i.useState)(!1),s=Object(r.a)(a,2),l=s[0],d=s[1],b=Object(i.useState)(!1),p=Object(r.a)(b,2),j=p[0],m=p[1],u=Object(x.d)((function(e){return{audioPlayMethod:e.getIn(["player","audioPlayMethod"])}}),x.b).audioPlayMethod;var h=Object(i.useCallback)((function(e){m(!0),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"source.mp3",t=arguments.length>2?arguments[2]:void 0;o(e).then((function(e){if("object"===typeof e)return console.log("error"),void(t&&t());var r=new Blob([e],{type:"mp3"}),i=document.createElement("a"),c=window.URL.createObjectURL(r);i.href=c,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(c),t&&t()})).catch((function(e){console.log("JJ ~ file: download.js ~ line 28 ~ downloadSong ~ err",e),t&&t(e)}))}(e.id,e.name+".mp3",(function(){m(!1)}))}),[]),O=n.al,w=n.ar,y=void 0===w?[]:w;return O?Object(v.jsxs)(g,{isExpand:l,children:[Object(v.jsx)("h2",{children:n.name}),Object(v.jsxs)("div",{className:"user-wrapper col",children:[Object(v.jsxs)("div",{className:"row singer",children:[Object(v.jsx)("span",{children:"\u6b4c\u624b:"}),y.map((function(e,n){return Object(v.jsxs)("div",{className:"row name",children:[e.name," ",n<y.length-1?"/":""]},e.name)}))]}),Object(v.jsxs)("div",{className:"row al",children:["\u4e13\u8f91: ",O.name]})]}),Object(v.jsxs)("div",{className:"btns row",children:[Object(v.jsx)(f.a,{onClick:function(){u&&u()},children:"\u64ad\u653e"}),Object(v.jsx)(f.a,{disabled:!0,children:"\u6536\u85cf"}),Object(v.jsx)(f.a,{disabled:!0,children:"\u5206\u4eab"}),Object(v.jsx)(f.a,{onClick:function(e){h(n)},loading:j,children:"\u4e0b\u8f7d"})]}),Object(v.jsxs)("div",{className:"desc-wrapper",children:[Object(v.jsx)("p",{children:c.map((function(e,n){return Object(v.jsx)("span",{children:e.content},e.content+n)}))}),Object(v.jsx)("div",{className:"btn-warrper",children:Object(v.jsx)("div",{className:"btn",onClick:function(e){d(!l)},children:l?"\u6536\u8d77":"\u5c55\u5f00"})})]})]}):null})))}}]);